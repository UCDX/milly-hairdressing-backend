# Documentation REST API

## Index.
* [General information](#general-information)
* [Users](#users)
  * [Sign up](#sign-up)
  * [Log in](#log-in)

## General information

### Response data structure

```json
{
  "code": 0,
  "messages": [ ],
  "data": { }
}
```

* `code`: The exit code of the process. Code `0` represents the sucesfully exit code linked to '*Done*'
message. Each endpoint could has their respective exit codes, see the **Codes** section in order to know 
the possible exits codes and their respective message.
* `messages`: A message array to help the programmer to identify easier what happened with the process.
* `data`: The data requested, or the data returned **when the execution was correct**.

### Mandatory headers
* **Content-Type**: application/json
* **Authorization**: [JWT generated by a call to the login endpoint]

Authorization header is not always required but it is at most of endpoints. Where it is required will be
mentioned on headers section of the endpoint description. This header is used to authenticate the user
that requests an endpoint.

## Users

### Sign up

#### Headers

Not more than the mandatories.

#### Method

POST

#### Endpoint

`/api/users/signup`

#### Parameters

* `user_type_id`: int. Valid options:
  * `1`: for 'admin' user. 
  * `2`: for 'hairdresser' user.
  * `3`: for 'customer' user.
* `firstname`: string. Max length: 64 characters.
* `lastname`: string. Max length: 64 characters.
* `email`: string. Max length: 100 characters.
* `phone_number`: string. Optional parameter. Max length: 15 characters (numbers).
* `passwd`: string.

#### Response example

```json
{
  "code": 0,
  "messages": [
    "Done"
  ],
  "data": {
    "id": 4,
    "user_type_id": 3,
    "firstname": "Jhon 4",
    "lastname": "Doe 4",
    "email": "jhondoe4@gmail.com",
    "phone_number": "9988776655",
    "is_active": 1,
    "session_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjo0fQ.bnLkXbzeQ-khip0e9B46fbUEfVXG2AN099SwzNKev-s"
  }
}
```

#### Codes

* 1: Email already registered.

### Log in

#### Headers

Not more than the mandatories.

#### Method

POST

#### Endpoint

`/api/users/login`

#### Parameters

* `email`: string. Max length: 100 characters.
* `passwd`: string.

#### Response example

```json
{
  "code": 0,
  "messages": [
    "Done"
  ],
  "data": {
    "session_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjo5fQ.FjF8D4Q9LQ9siUXky_mHSS4K28VsEZqzlFRbM5rp-tQ"
  }
}
```

#### Codes

* 1: Invalid credentials.
